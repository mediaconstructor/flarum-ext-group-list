{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@clarkwinkelmann/group-list/webpack/bootstrap","webpack://@clarkwinkelmann/group-list/webpack/runtime/compat get default export","webpack://@clarkwinkelmann/group-list/webpack/runtime/define property getters","webpack://@clarkwinkelmann/group-list/webpack/runtime/hasOwnProperty shorthand","webpack://@clarkwinkelmann/group-list/webpack/runtime/make namespace object","webpack://@clarkwinkelmann/group-list/external root \"flarum.core.compat['common/extend']\"","webpack://@clarkwinkelmann/group-list/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@clarkwinkelmann/group-list/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@clarkwinkelmann/group-list/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@clarkwinkelmann/group-list/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@clarkwinkelmann/group-list/external root \"flarum.core.compat['common/components/Page']\"","webpack://@clarkwinkelmann/group-list/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@clarkwinkelmann/group-list/external root \"flarum.core.compat['common/components/GroupBadge']\"","webpack://@clarkwinkelmann/group-list/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@clarkwinkelmann/group-list/external root \"flarum.core.compat['common/components/Link']\"","webpack://@clarkwinkelmann/group-list/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@clarkwinkelmann/group-list/external root \"flarum.core.compat['common/helpers/username']\"","webpack://@clarkwinkelmann/group-list/external root \"flarum.core.compat['common/helpers/userOnline']\"","webpack://@clarkwinkelmann/group-list/./src/forum/components/UserList.js","webpack://@clarkwinkelmann/group-list/./src/forum/components/GroupListPage.js","webpack://@clarkwinkelmann/group-list/external root \"flarum.core.compat['common/Model']\"","webpack://@clarkwinkelmann/group-list/./src/common/models/GroupListItem.js","webpack://@clarkwinkelmann/group-list/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/GroupBadge'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/username'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/userOnline'];","import Link from 'flarum/common/components/Link';\nimport avatar from 'flarum/common/helpers/avatar';\nimport listItems from 'flarum/common/helpers/listItems';\nimport username from 'flarum/common/helpers/username';\nimport userOnline from 'flarum/common/helpers/userOnline';\n\n/* global app, m, $ */\n\nexport default class UserList {\n    view(vnode) {\n        return m('ul.GroupList-UserList', vnode.attrs.users.map(user => {\n\n            return m('li.GroupList-UserList-item', m(Link, {\n                href: app.route.user(user),\n            }, [\n                m('.GroupList-UserList-avatar', [\n                    avatar(user),\n                    this.badges(user, vnode.attrs.hideBadgeId),\n                ]),\n                m('.GroupList-UserList-user', [\n                    app.forum.attribute('clarkwinkelmann-group-list.showOnlineStatus') ? userOnline(user) : null,\n                    username(user),\n                ]),\n            ]));\n        }));\n    }\n\n    badges(user, hideBadgeId) {\n        if (!app.forum.attribute('clarkwinkelmann-group-list.showAvatarBadges')) {\n            return null;\n        }\n\n        const badges = user.badges();\n\n        if (badges.has(hideBadgeId)) {\n            badges.remove(hideBadgeId);\n        }\n\n        return m('ul.badges', listItems(badges.toArray()));\n    }\n}\n","import Page from 'flarum/common/components/Page';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport GroupBadge from 'flarum/common/components/GroupBadge';\nimport listItems from 'flarum/common/helpers/listItems';\nimport UserList from './UserList';\n\n/* global app, m */\n\nexport default class GroupListPage extends Page {\n    oninit(vnode) {\n        super.oninit(vnode);\n\n        this.items = null;\n\n        app.request({\n            method: 'GET',\n            url: app.forum.attribute('apiUrl') + '/clarkwinkelmann-group-list',\n        }).then(response => {\n            this.items = app.store.pushPayload(response);\n            m.redraw();\n        });\n\n        this.bodyClass = 'GroupList-page';\n    }\n\n    view() {\n        return m('.IndexPage', [\n            IndexPage.prototype.hero(),\n            m('.container', m('.sideNavContainer', [\n                m('nav.IndexPage-nav.sideNav', m('ul', listItems(IndexPage.prototype.sidebarItems().toArray()))),\n                m('.IndexPage-results.sideNavOffset.GroupList-content', this.content()),\n            ])),\n        ]);\n    }\n\n    content() {\n        if (this.items === null) {\n            return LoadingIndicator.component();\n        }\n\n        return this.items.map(item => m('div', [\n            m('h3.GroupList-title', [\n                GroupBadge.component({\n                    group: item.group(),\n                }),\n                ' ',\n                item.group().namePlural(),\n            ]),\n            item.contentHtml() ? m('.GroupList-description', m.trust(item.contentHtml())) : null,\n            m(UserList, {\n                users: item.members(),\n                hideBadgeId: 'group' + item.group().id(),\n            }),\n        ]));\n    }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class GroupListItem extends Model {\n    content = Model.attribute('content');\n    contentHtml = Model.attribute('contentHtml');\n\n    group = Model.hasOne('group');\n    members = Model.hasMany('members');\n}\n","import {extend} from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport GroupListPage from './components/GroupListPage';\nimport GroupListItem from '../common/models/GroupListItem';\n\n/* global app */\n\napp.initializers.add('clarkwinkelmann-group-list', () => {\n    app.routes['clarkwinkelmann-group-list'] = {\n        path: '/groups',\n        component: GroupListPage,\n    };\n\n    app.store.models['clarkwinkelmann-group-list-items'] = GroupListItem;\n\n    extend(IndexPage.prototype, 'navItems', items => {\n        if (!app.forum.attribute('clarkwinkelmann-group-list.showSideNavLink')) {\n            return;\n        }\n\n        items.add('clarkwinkelmann-group-list-item', LinkButton.component({\n            href: app.route('clarkwinkelmann-group-list'),\n            icon: 'fas fa-users',\n        }, app.translator.trans('clarkwinkelmann-group-list.forum.nav')), 85);\n    });\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_inheritsLoose","subClass","superClass","create","constructor","UserList","_proto","view","vnode","_this","m","attrs","users","map","user","Link","href","app","route","avatar","badges","hideBadgeId","forum","attribute","userOnline","username","has","remove","listItems","toArray","GroupListPage","_Page","apply","arguments","oninit","this","items","request","method","url","then","response","store","pushPayload","redraw","bodyClass","IndexPage","hero","sidebarItems","content","LoadingIndicator","item","GroupBadge","group","namePlural","contentHtml","trust","members","id","Page","GroupListItem","_Model","_len","length","args","Array","_key","concat","Model","initializers","add","routes","path","component","models","extend","LinkButton","icon","translator","trans"],"sourceRoot":""}